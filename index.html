<!doctype html>
<html lang="id">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta
      name="description"
      content="DramaBloom - Katalog Drama China Modern"
    />
    <meta name="theme-color" content="#ffc0cb" />
    <title>DramaBloom - Home</title>

    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Lucide Icons CDN -->
    <script src="https://unpkg.com/lucide@latest"></script>

    <!-- PWA Manifest -->
    <link rel="manifest" href="manifest.json" />

    <!-- Favicon -->
    <link rel="icon" type="image/png" href="assets/icon-192.svg" />

    <style>
      body {
        background: linear-gradient(
          135deg,
          #fce7f3 0%,
          #fbcfe8 50%,
          #fce7f3 100%
        );
        min-height: 100vh;
        font-family:
          "Inter",
          -apple-system,
          BlinkMacSystemFont,
          "Segoe UI",
          Roboto,
          sans-serif;
      }

      .drama-card {
        transition:
          transform 0.3s ease,
          box-shadow 0.3s ease;
      }

      .drama-card:active {
        transform: scale(0.97);
      }

      .drama-card:hover {
        transform: translateY(-4px);
        box-shadow: 0 20px 40px rgba(236, 72, 153, 0.15);
      }

      .badge-free {
        background: linear-gradient(135deg, #10b981 0%, #059669 100%);
      }

      .badge-price {
        background: linear-gradient(135deg, #ec4899 0%, #db2777 100%);
      }

      .bottom-nav {
        backdrop-filter: blur(12px);
        background: rgba(255, 255, 255, 0.8);
        box-shadow: 0 -4px 20px rgba(236, 72, 153, 0.1);
      }

      .nav-item {
        transition: all 0.2s ease;
      }

      .nav-item.active {
        color: #ec4899;
      }

      .search-input:focus {
        box-shadow: 0 0 0 3px rgba(236, 72, 153, 0.2);
      }

      input::placeholder {
        color: #fda4af;
      }
    </style>
  </head>
  <body class="pb-24">
    <!-- Header -->
    <header class="sticky top-0 z-40 bg-white/80 backdrop-blur-md shadow-sm">
      <div class="max-w-md mx-auto px-4 py-4">
        <!-- Logo -->
        <div class="flex items-center gap-3 mb-4">
          <img src="assets/icon-192.svg" alt="Logo" class="w-8 h-8" />
          <h1
            class="text-2xl font-bold bg-gradient-to-r from-pink-600 to-rose-600 bg-clip-text text-transparent"
          >
            DramaBloom
          </h1>
        </div>

        <!-- Search Bar -->
        <div class="relative">
          <i
            data-lucide="search"
            class="absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-pink-400"
          ></i>
          <input
            type="text"
            id="searchInput"
            placeholder="Cari drama favorit..."
            class="search-input w-full pl-12 pr-4 py-3 rounded-2xl border-2 border-pink-200 focus:border-pink-400 outline-none transition-all"
          />
        </div>
      </div>
    </header>

    <!-- Filters -->
    <div class="max-w-md mx-auto px-4 py-4 flex gap-3">
      <!-- Genre Filter -->
      <div class="flex-1 relative">
        <select
          id="genreFilter"
          class="w-full px-4 py-2.5 rounded-xl border-2 border-pink-200 bg-white outline-none focus:border-pink-400 transition-all appearance-none cursor-pointer"
        >
          <option value="all">ğŸ“‚ Semua Genre</option>
          <option value="Romance">ğŸ’• Romance</option>
          <option value="Fantasy">ğŸŒ™ Fantasy</option>
          <option value="Historical">ğŸ‘‘ Historical</option>
          <option value="Comedy">ğŸ˜„ Comedy</option>
          <option value="Action">âš”ï¸ Action</option>
          <option value="Youth">ğŸ’ Youth</option>
        </select>
        <i
          data-lucide="chevron-down"
          class="absolute right-3 top-1/2 -translate-y-1/2 w-5 h-5 text-pink-400 pointer-events-none"
        ></i>
      </div>

      <!-- Sort -->
      <div class="flex-1 relative">
        <select
          id="sortSelect"
          class="w-full px-4 py-2.5 rounded-xl border-2 border-pink-200 bg-white outline-none focus:border-pink-400 transition-all appearance-none cursor-pointer"
        >
          <option value="latest">ğŸ†• Terbaru</option>
          <option value="trending">ğŸ”¥ Trending</option>
        </select>
        <i
          data-lucide="chevron-down"
          class="absolute right-3 top-1/2 -translate-y-1/2 w-5 h-5 text-pink-400 pointer-events-none"
        ></i>
      </div>
    </div>

    <!-- Drama Grid -->
    <main class="max-w-md mx-auto px-4 pb-6">
      <div id="dramaGrid" class="grid grid-cols-2 gap-4">
        <!-- Drama cards will be inserted here -->
      </div>

      <!-- Empty State -->
      <div id="emptyState" class="hidden text-center py-16">
        <div
          class="w-24 h-24 mx-auto mb-4 rounded-3xl bg-pink-100 flex items-center justify-center"
        >
          <i data-lucide="search-x" class="w-12 h-12 text-pink-400"></i>
        </div>
        <p class="text-pink-600 font-medium">Tidak ada drama ditemukan ğŸŒ¸</p>
        <p class="text-pink-400 text-sm mt-2">
          Coba kata kunci atau filter lain
        </p>
      </div>
    </main>

    <!-- Bottom Navigation -->
    <nav class="bottom-nav fixed bottom-0 left-0 right-0 z-50">
      <div class="max-w-md mx-auto px-6 py-4 flex justify-around">
        <a
          href="index.html"
          class="nav-item active flex flex-col items-center gap-1 text-pink-500"
        >
          <i data-lucide="home" class="w-6 h-6"></i>
          <span class="text-xs font-medium">Home</span>
        </a>
        <a
          href="favorites.html"
          class="nav-item flex flex-col items-center gap-1 text-gray-400 hover:text-pink-500"
        >
          <i data-lucide="heart" class="w-6 h-6"></i>
          <span class="text-xs font-medium">Favorit</span>
        </a>
        <a
          href="#"
          class="nav-item flex flex-col items-center gap-1 text-gray-400 hover:text-pink-500"
        >
          <i data-lucide="user" class="w-6 h-6"></i>
          <span class="text-xs font-medium">Profil</span>
        </a>
      </div>
    </nav>

    <!-- Initialize Icons -->
    <script>
      lucide.createIcons();
    </script>

    <!-- Home Logic -->
    <script type="module" src="js/home.js"></script>

    <!-- Register Service Worker -->
    <script>
      if ("serviceWorker" in navigator) {
        navigator.serviceWorker
          .register("service-worker.js")
          .then(() => console.log("Service Worker registered"))
          .catch((err) =>
            console.error("Service Worker registration failed:", err),
          );
      }
    </script>
  </body>
</html>
