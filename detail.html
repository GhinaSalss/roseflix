<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"
    />
    <title>Movie Detail | RoseFlix</title>
    <link rel="manifest" href="manifest.json" />
    <meta name="theme-color" content="#ec4899" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta
      name="apple-mobile-web-app-status-bar-style"
      content="black-translucent"
    />
    <script src="https://cdn.tailwindcss.com"></script>
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700;800;900&display=swap"
      rel="stylesheet"
    />
    <style>
      body {
        font-family: "Outfit", sans-serif;
        background: #0b020c;
        color: white;
        -webkit-tap-highlight-color: transparent;
      }
      .glass {
        background: rgba(255, 255, 255, 0.05);
        backdrop-filter: blur(20px);
        border: 1px solid rgba(255, 255, 255, 0.1);
      }
      .cast-scroll::-webkit-scrollbar {
        display: none;
      }
    </style>
  </head>
  <body class="min-h-screen pb-40">
    <!-- Back Button -->
    <div class="fixed top-6 left-6 z-50">
      <button
        onclick="history.back()"
        class="w-12 h-12 glass rounded-2xl flex items-center justify-center text-white hover:text-pink-500 transition-colors"
      >
        <i class="fas fa-chevron-left"></i>
      </button>
    </div>

    <!-- Favorite Button -->
    <div class="fixed top-6 right-6 z-50">
      <button
        id="favorite-btn"
        class="w-12 h-12 glass rounded-2xl flex items-center justify-center text-white transition-colors"
      >
        <i class="far fa-heart"></i>
      </button>
    </div>

    <!-- Poster Hero -->
    <div class="relative h-[65vh] w-full overflow-hidden">
      <img
        id="movie-poster"
        src=""
        class="w-full h-full object-cover"
        alt="Movie Poster"
      />
      <div
        class="absolute inset-0 bg-gradient-to-t from-[#0b020c] via-transparent to-transparent"
      ></div>

      <!-- Quick Info Overlays -->
      <div
        class="absolute bottom-6 left-0 w-full px-8 flex justify-between items-end"
      >
        <div class="max-w-[70%]">
          <div class="flex items-center gap-2 mb-2">
            <span
              id="movie-year"
              class="text-xs font-bold text-pink-500 bg-pink-500/10 px-3 py-1 rounded-full uppercase tracking-tighter"
            ></span>
            <span
              id="movie-genres"
              class="text-[10px] text-gray-400 font-medium"
            ></span>
          </div>
          <h1
            id="movie-title"
            class="text-4xl font-black leading-[1.1] mb-2"
          ></h1>
        </div>
        <div class="relative w-16 h-16 flex items-center justify-center">
          <svg class="absolute inset-0 -rotate-90 w-full h-full">
            <circle
              cx="32"
              cy="32"
              r="28"
              stroke="currentColor"
              stroke-width="4"
              fill="transparent"
              class="text-white/10"
            />
            <circle
              id="rating-circle"
              cx="32"
              cy="32"
              r="28"
              stroke="currentColor"
              stroke-width="4"
              fill="transparent"
              stroke-dasharray="175.9"
              stroke-dashoffset="175.9"
              class="text-pink-500 transition-all duration-1000"
            />
          </svg>
          <span id="movie-rating" class="text-lg font-black italic"></span>
        </div>
      </div>
    </div>

    <div class="px-8 space-y-8 mt-4">
      <!-- Stats Cards -->
      <div class="grid grid-cols-3 gap-3">
        <div class="glass p-4 rounded-3xl text-center space-y-1">
          <p
            class="text-[8px] text-gray-500 uppercase font-black tracking-widest"
          >
            Budget
          </p>
          <p id="movie-budget" class="text-xs font-bold text-white"></p>
        </div>
        <div class="glass p-4 rounded-3xl text-center space-y-1">
          <p
            class="text-[8px] text-gray-500 uppercase font-black tracking-widest"
          >
            Revenue
          </p>
          <p id="movie-revenue" class="text-xs font-bold text-white"></p>
        </div>
        <div class="glass p-4 rounded-3xl text-center space-y-1">
          <p
            class="text-[8px] text-gray-500 uppercase font-black tracking-widest"
          >
            Popularity
          </p>
          <p id="movie-popularity" class="text-xs font-bold text-white"></p>
        </div>
      </div>

      <!-- Synopsis -->
      <div>
        <h3 class="text-lg font-bold mb-3 flex items-center gap-2">
          Synopsis
          <div class="h-[2px] flex-grow bg-white/5 rounded-full mt-1"></div>
        </h3>
        <p
          id="movie-overview"
          class="text-gray-400 text-sm leading-relaxed font-light"
        ></p>
      </div>

      <!-- Cast -->
      <div>
        <h3 class="text-lg font-bold mb-4">Top Cast</h3>
        <div
          id="cast-container"
          class="flex gap-4 overflow-x-auto cast-scroll -mx-8 px-8"
        >
          <!-- Cast cards -->
        </div>
      </div>
    </div>

    <!-- Bottom Action Bar -->
    <div
      class="fixed bottom-0 left-0 w-full p-8 bg-gradient-to-t from-[#0b020c] via-[#0b020c] to-transparent z-40"
    >
      <button
        id="unlock-btn"
        class="w-full h-16 bg-gradient-to-r from-pink-600 to-rose-500 rounded-[1.5rem] flex items-center justify-center gap-3 font-bold text-white shadow-[0_15px_30px_-10px_#ec4899] disabled:opacity-50 disabled:grayscale transition-all active:scale-95"
      >
        <i class="fas fa-play"></i>
        <span id="btn-text">Watch Trailer</span>
      </button>
    </div>

    <script type="module" src="js/detail.js"></script>
    <script src="js/pwa.js"></script>
  </body>
</html>
